<!DOCTYPE html>
<html>
<head>
	<meta charset = "UTF-8">
	<title>Task 14 - Fast version</title>
</head>
<body>
<script>

var array = [],
	num,
	counter,
	max = [0, 0];
for (let i = 2; i <= 1000000; i++) {
	num = i;
	counter = 0;
	while (num != 1) {
		if (num % 2 == 0) {
			num /= 2;
		} else {
			num *= 3;
			num++;
		}
		counter++;		
		if (array[num] != undefined) {
			counter += array[num];
			break;
		}		
	}
	array[i] = counter;
	if (counter >= max[0]) {
		max = [counter + 1, i];
	}
}

document.write(max[1]);

</script>
</body>
</html>